<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<link rel="stylesheet" href="/static/arrow.css">
	
</head>
<form name="main" action="http://multi-dimensional-equilibrium.herokuapp.com/result/" method="post" target="_blank">
<div class="container">
    <div class="row">
		
		<div class="well-title">
			<h2 align=center>Multi-Dimensional Equilibrium Calculator</h2>
		</div>
	
		
        <div class="col-sm-6">
                    <!-- Form start -->
				<div class="row">
					<div class="panel panel-default">
						<div class="panel-heading">
							<b>Strategies</b> 
							<a data-trigger="focus" href="#" data-toggle="popover" title="Strategies panel" data-content="The strategies can be defined manually or be generated automatically.">
							  <span class="glyphicon glyphicon-question-sign"></span>
							</a>
						</div>
						<script>
						$(document).ready(function(){
							$('[data-toggle="popover"]').popover(); 
						});
						</script>
						
						<div class="panel panel-default">
							<div class="panel-heading">
								<a id="accordion_collapse2" class="accordion-toggle" data-toggle="collapse" href="#collapse2"><b>Strategies generator</B></a>
								<a data-trigger="focus" href="#" data-toggle="popover" title="How to use the generator?" data-content="The calculator can automatically generate the feasible set of strategies.
n is the length of the strategy vector - enter a natural number that would define the number of coordinates in the strategy vector.
You can exhaustively define what numbers are allowed as coordinates in the vector or you can set an upper or lower bound in integers.
It is possible to set constraints on feasible strategies using functions. (see functions tab)
  The strategy vector is defined as follows: s=(s1,...,sn)">
								  <span class="glyphicon glyphicon-question-sign"></span>
								</a>
							</div>

							
							<div id="collapse2" class="panel-collapse collapse in">
								<div class="panel-body">
									<div class="row">
										<div class="col-sm-12">
											
											<div class="col-sm-1 control-label" >n:=</div> 
											<div class="input-group input-group-sm">
												<input name="strategies_vector_length" placeholder="Fill vector's length" class="form-control"  type="text">
											</div>
										</div>
										<!--
										<div class="col-sm-10">
											<div class="well-block">
												<div class="well-title">									
													<div class="col-sm-1 control-label" >s<sub>i</sub><font face="Symbol">&#206;</font></div> 
													<div class="input-group input-group-sm">
														<div class="form-group">
														<div class="input-group input-group-sm">
															<select class="form-control" id="educationDate" name="strategies_super_set">

																<option value="integer_num"><span class="texhtml">ℤ</span></option>
																<option value="real_num"><span class="texhtml">ℝ</span></option>
															</select>
														</div>
													</div>
													</div>
												</div>
											</div>
										</div>
										-->
									</div>
									<br>
								
								
									<div class="col-sm-1 nopadding"  style="width:8% ">
										si<font size="4" face="Symbol">&#206;{</font>
									</div>
									<div class="col-sm-4" >
										
										
										<div class="input-group input-group-sm">
										
											
											<input id ="strategies_full_set" name="strategies_full_set" placeholder="Extensive definition e.g. 1,2,3,4 " class="form-control"  type="text"  onKeyup="block_box_content('strategies_full_set','strategies_lower_bound','strategies_upper_bound');">
										</div>
										
									</div>
									<div class="col-sm-1 control-label" style="width:4% " >
										<font size="4"  face="Symbol">}</font>
									</div>
									<div class="col-sm-1" style="width:8% ">
										<b>OR</b>
									</div>
									<div class="col-sm-1" style="width:17% " >
										<div class="input-group input-group-sm">
											<input id="strategies_lower_bound" name="strategies_lower_bound" placeholder="Entry's lower bound" class="form-control"  type="text" onKeyup="block_box_content('strategies_lower_bound','strategies_full_set');">
										</div>
									</div>
									<div class="col-sm-1"  style="width:11% " >
										
										<font face="Symbol" size="2">&#163;</font> si<font face="Symbol">&#163;</font> 
									</div>
									<div class="col-sm-1" style="width:17% " >
										<div class="input-group input-group-sm">
											<input id="strategies_upper_bound" name="strategies_upper_bound" placeholder="Entry's upper bound" class="form-control"  type="text" onKeyup="block_box_content('strategies_upper_bound','strategies_full_set');">
										</div>
									</div>

									<div >
										<br>
										<br>
										<div class="panel-heading"><b>Constraints</B></div>
									</div>
									<div class="col-sm-12">
										<div class="form-group" id="if_fields">
											<div class="form-group remove_constraint1" id="remove_all_fields">
												
												<div class="col-sm-9 nopadding">
													<div class="form-group">
														<input type="text" class="form-control" id="strategies_constraint_1" name="strategies_constraint_1" value="" placeholder="Constraint">
													</div>
												</div>
												<input type="hidden" name="country" value="Norway">
												<div class="col-sm-1 nopadding">
													<div class="form-group">
														<div class="input-group input-group-sm">
															<div class="input-group input-group-sm-btn">
																<button id="plus_button" class="btn btn-danger" type="button" onclick="remove_field('if_fields',1);"> 
																	<span id="minus_button_glyphicon" class="glyphicon glyphicon-minus" aria-hidden="true"></span> 
																</button>
															</div>

														</div>
													</div>
												</div>
											</div>
										</div>
										<br>
										<div class="col-sm-3 nopadding">
											<div class="form-group">
												<br>
												<div class="input-group input-group-sm">
													<div class="input-group input-group-sm-btn">
														<button class="btn btn-success" type="button" onclick="add_field('if_fields');"> <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> </button>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="panel-footer"><small>Click <span class="glyphicon glyphicon-plus gs"></span> to add another if field</small>, <small>Click <span class="glyphicon glyphicon-minus gs"></span> to remove the field </small></div>

							</div>
						</div>
						<div class="panel panel-default">
							<div class="panel-heading">
								<a id="accordion_collapse1" class="accordion-toggle collapsed" data-toggle="collapse" href="#collapse1" >
									<b>Click to manually insert Strategies</B></a>
								<a data-trigger="focus" href="#" data-toggle="popover" title="How to use the manual panel?" data-content="Enter all possible strategy vectors in your game. One can input both vectors and numbers, separated by a comma, e.g. 1,2,3,4,5,(1,2),(2,3),(3,4),(4,5) .">
							  <span class="glyphicon glyphicon-question-sign"></span>
							</a>
							</div>

							
							<div id="collapse1" class="panel-collapse  collapse">
								<div class="panel-body">
								<div class="col-sm-10">

											<div ><b>Insert all strategies in one line</b>
									</div>
									
								</div>
									<div class="col-sm-2 nopadding">

										<div class="form-group">
											<h6></h6>
										</div>
									</div>
									<div class="col-sm-12 nopadding">

										<div class="form-group">
											<input type="text" class="form-control" id="if_cond" name="strategies_vector_single" value="" placeholder="All Vectors: (5) (1,2)">
										</div>
									</div>

								</div>	
							</div>
						</div>
				   </div>
				   
					<div class="panel panel-default">
				
						<div class="panel-heading">
								<a id="accordion_collapse3" class="accordion-toggle" data-toggle="collapse" href="#collapse3">
									<b>Payoff function</B>
								</a>
							<a data-trigger="focus" href="#" data-toggle="popover" title="How to use the payoff panel?" data-content="Define the payoffs players receive when each condition is satisfied. Conditions are set using excel or app-specific functions (see functions tab). Specify “otherwise” in the condition if there is a default payoff.
							s:= First player's vector,     si:=Index i of vector s; r:= Second player's vector, ri:=Index i of vector r.">
								  <span class="glyphicon glyphicon-question-sign"></span>
								</a>
						</div>
						<div class="panel-collapse collapse in" id="collapse3">
							<div class="panel-body" id="if_fields_payment">
								
								<div class="col-sm-12">
									<div class="col-sm-1 nopadding">
										<div class="form-group">
										<br>
											<h5>u<sub>1</sub>(s,r)=</h5>
											

										</div>
									</div>
									<div class="col-sm-1 nopadding">
										<div class="form-group">
											<canvas id="myCanvas" width="50" height="70"></canvas>
										</div>
									</div>
									<div class="form-group" id="all_ifs">
										<div class="form-group remove_class1" id="remove_all_fields">
											<div class="col-sm-3 nopadding">
												<div class="form-group">
													<input type="text" class="form-control" id="if_res" name="payment_if_res_1" value="" placeholder="payment">
												</div>
											</div>
											<div class="col-sm-5 nopadding">
												<div class="form-group">
													<input type="text" class="form-control" id="if_cond" name="payment_if_cond_1" value="" placeholder="condition">
												</div>
											</div>
											
											<div class="col-sm-1 nopadding">
												<div class="form-group">
													<div class="input-group input-group-sm">
														<div class="input-group input-group-sm-btn">
															<button id="plus_button" class="btn btn-danger" type="button" onclick="remove_field('if_fields_payment',1,brackets_name='myCanvas');"> 
																<span id="minus_button_glyphicon" class="glyphicon glyphicon-minus" aria-hidden="true"></span> 
															</button>
														</div>

													</div>
												</div>
											</div>
										</div>
									</div>
									<div class="col-sm-2 nopadding">
										<div class="form-group">
											<br>
												<div class="input-group input-group-sm">
													<div class="input-group input-group-sm-btn">
														<button id="plus_button" class="btn btn-success" type="button" onclick="add_field('if_fields_payment',brackets_name='myCanvas');"> 
															<span id="plus_button_glyphicon" class="glyphicon glyphicon-plus" aria-hidden="true"></span> 
														</button>
													</div>

												</div>
										</div>
									</div>
								</div>
							</div>	
							
							<div class="panel-footer"><small>Click <span class="glyphicon glyphicon-plus gs"></span> to add another if field</small>, <small>Click <span class="glyphicon glyphicon-minus gs"></span> to remove the field </small></div>
						</div>
					</div>
				</div>
			<!-- form end -->
            
        </div>
        <div class="col-sm-6">
			
	
            <div class="well-block">

                    <!-- Form start -->
                    <div class="row">
			<div class="panel with-nav-tabs panel-default">
				<div class="panel-heading">
					<a id="accordion_collapse4" class="accordion-toggle" data-toggle="collapse" href="#collapse4">
						<b>Control panel</B>
					</a>
				</div>
				<div class="panel-collapse collapse in" id="collapse4">
					<div class="panel-heading">
							<ul class="nav nav-tabs">
								
								<li class="active"><a href="#tab1default" data-toggle="tab">How to?</a></li>
								<li><a href="#tab2default" data-toggle="tab">Proprietary functions</a></li>
								<li><a href="#tab3default" data-toggle="tab">Save the game</a></li>
								<li><a href="#tab4default" data-toggle="tab">Load the game</a></li>
								
							</ul>
					</div>
					<div class="panel-body">
						<div class="tab-content">
							<div class="tab-pane fade in active" id="tab1default">This calculator allows users to further explore the framework of multi-dimensional reasoning in symmetric two-player strategic interactions as defined by Arad and Rubinstein’s <a href="http://arielrubinstein.tau.ac.il/papers/md-equ.pdf">paper</a>.  
							The model suggests that each player classifies the strategies along a number of dimensions and makes a decision in each dimension based on the profile of characteristics he believes each of the other players will choose.
							The game is defined by the strategies, payoff functions and dimensions you choose. Clicking Calculate! will find any local and global multi-dimensional equilibria for those settings. 
							The calculator supports basic excel functions. Additional app-specific functions are defined in the functions tab.
							Notice that you can easily input examples from the paper – Settlements, Blotto, Tennis – in the example tab.
							<br><br>
							Click the question mark signs <span class="glyphicon glyphicon-question-sign"></span> in the calculator in order to read explanations about each section.
								<div class="btn-group" >
										<br>
										Click the example you wish to calculate. Its settings will be automatically defined in the calculator. Clicking the <font color="red"><b>"Calculate!"</b></font> button below will find any local and global multi-dimensional equilibria for the example.
									  <br>
									  <br>
									  <button type="button" class="btn btn-info" onClick="load_example('Settlements')">Settlements</button>
									  <button type="button" class="btn btn-info" onClick="load_example('Blotto_center')">Blotto - center</button>
									  <button type="button" class="btn btn-info" onClick="load_example('Tennis')">Tennis</button>
								</div>
								<div class="btn-group" >
								<br>
								These are additional examples that do not appear in the paper:
								<br>
								<br>
									  <button type="button" class="btn btn-info" onClick="load_example('Blotto_loc')">Blotto - location</button>
								</div>
							</div>
							<div class="tab-pane fade" id="tab2default">
											<div class="table100 ver4 ">
					<div class="table100-head">
						<table>
							<thead>
								<tr class="row100 head">
									<th class="cell100 column1">Expression</th>
									<th class="cell100 column2">Explanation</th>
								</tr>
							</thead>
						</table>
					</div>

					<div class="table100-body js-pscroll">
						<table>
							<tbody>
								<tr class="row100 body">
									<td class="cell100 column1">exists(i,j,si=rj)</td>
									<td class="cell100 column2">
											A boolean function that returns True only if there exist indices i and j for which the condition (here: si=rj) is satisfied.</td>
								</tr>

								<tr class="row100 body">
									<td class="cell100 column1">foreach(i,si<=s1)</td>
									<td class="cell100 column2">A boolean function that returns True only if for each index i, the condition (here: si<=s1) is satisfied.</td>
								</tr>

								<tr class="row100 body">
									<td class="cell100 column1">SUM(s)=0</td>
									<td class="cell100 column2">A boolean function that returns True only if a strategy's entries sum equals to the chosen number (here: 0).</td>
								</tr>

								<tr class="row100 body">
									<td class="cell100 column1">LEN(s)=2</td>
									<td class="cell100 column2">A boolean function that returns True only if the strategy's length is as chosen (here: 2).</td>
								</tr>

								<tr class="row100 body">
									<td class="cell100 column1">else</td>
									<td class="cell100 column2">Can be used in the Dimensions section, and chooses the relevant name only if all other conditions are not satisfied.</td>
								</tr>

								<tr class="row100 body">
									<td class="cell100 column1">percell(i,si=ri)</td>
									<td class="cell100 column2">Can be used in the Payoff function section, and it sums the payment specified for each equal entry in both players' strategies.</td>
								</tr>

								<tr class="row100 body">
									<td class="cell100 column1">countcells(0)=2</td>
									<td class="cell100 column2">Can be used in the Payoff function section. A boolean function that returns True only if the number of entries equal to the requested number (here: 0) is equal to the chosen number (here: 2).</td>
								</tr>

								<tr class="row100 body">
									<td class="cell100 column1">decreasing()</td>
									<td class="cell100 column2">Can be used in the Payoff function section. A boolean function that returns True only if the strategy is in weak decreasing order (si>=si+1).</td>
								</tr>

								<tr class="row100 body">
									<td class="cell100 column1">increasing()</td>
									<td class="cell100 column2">Can be used in the Payoff function section. A boolean function that returns True only if the strategy is in weak increasing order (si<=si+1).</td>
								</tr>

								<tr class="row100 body">
									<td class="cell100 column1">percellcost(i,-si*0.33)</td>
									<td class="cell100 column2">Can be used in the Payoff function section. A value function that adds a cost per entry (here: substracting 0.33*si from each player for each entry in a strategy).</td>
								</tr>

							</tbody>
						</table>
					</div>
				</div>

							</div>
							<div class="tab-pane fade" id="tab3default">
								You can save the current data you have filled in the calculator following the instructions:<br>
								Type in a name of your choice for the data file. Not Typing in the name will choose a default name.<br><br>
								Click "Save The Filled Cells Now" to save the data you have filled in the calculator, in our proprietary format.<br><br>
								<div class="btn-group-vertical">
									<div class="input-group">
											<span class="input-group-addon"><span class="glyphicon glyphicon-download"></span></span>
											<input id="save_name" type="text" class="form-control" placeholder="Name of file to save e.g. 'my_edited_eq_setup'. Default name:edited_eq_setup.">
									</div>
									<button type="button" class="btn btn-primary" onClick="save('inter.html', '<html></html>')" >Save The Filled Cells Now</button>
								</div>
							</div>
							<div class="tab-pane fade" id="tab4default">
								Click on the "Browse" button to choose a configuration file formerly saved from your computer.<br><br>
								After Finding a file, click "Load The Game Now" to load the configuration to the calculator.<br><br>
								<div class="btn-group-vertical">
									<div class="input-group">
											<span class="input-group-addon"><span class="glyphicon glyphicon-upload"></span></span>
											<input id="upload_name" type="text" class="form-control" placeholder="Load a file with the fields' content" disabled>
											<input type="file" id="file-input" class="hidden">
											<span class="input-group-btn">
												<button class="browse btn btn-primary" type="button" onClick="document.getElementById('file-input').click();document.getElementById('file-input').onchange = function () { document.getElementById('upload_name').setAttribute('placeholder', this.value.replace('C:\\fakepath\\', '')); document.getElementById('upload_name').disabled = false;};"><i class="glyphicon glyphicon-search"></i> Browse</button>
											</span>
									</div>
									<button id="load_btn" type="button" class="btn btn-danger disabled" >Load The Game Now</button>
								</div>
								
							</div>
						</div>
						
							
					</div>
				</div>
				
			</div>
                        
                        <div class="panel panel-default">
                            <div class="panel-heading">
								<a id="accordion_collapse5" class="accordion-toggle" data-toggle="collapse" href="#collapse5">
									<b>Dimensions</B>
								</a>
								<a data-trigger="focus" href="#" data-toggle="popover" title="How to use the dimensions panel?" data-content="The calculator supports games with two dimensions - rows and columns. 
									Each dimension can have multiple categories. Define a name for each category and the condition that needs to be satisfied by a strategy in order to be classified into that category.
									Conditions are set using excel or app-specific functions (see functions tab). Specify “else” in the condition if there is a default category.
									If you want to utilize only one-dimension in your game, leave the other dimension’s settings empty.">
								  <span class="glyphicon glyphicon-question-sign"></span>
								</a>
							</div>
							
							<div id="collapse5" class="panel-collapse collapse in">
								<div class="panel-body" >
									<div class="col-sm-10" >
										<div class="well-block">
											<div class="well-title">
												<div class="panel-heading">1<sup>st</sup> Dimension - Rows
												</div>
												<div class="panel-heading"><b>Categories names</b>
												</div>
												
												
											</div>
										</div>
										
									</div>
									<div class="col-sm-12" id="if_fields_dimension_rows_names">
										<div class="col-sm-1 nopadding">
											<div class="form-group">
											<br>
												<h5>name=</h5>
											</div>
										</div>
										<div class="col-sm-1 nopadding">
											<div class="form-group">
												<canvas id="myCanvas2" width="50" height="70"></canvas>
											</div>
										</div>
										<div class="form-group" id="all_ifs_categories_rows">
											<div class="form-group remove_class_row1" id="remove_all_fields">
												<div class="col-sm-3 nopadding">
													<div class="form-group">
														<input type="text" class="form-control" id="if_res" name="dimensions_row_category_name_1" value="" placeholder="Name">
													</div>
												</div>
												<div class="col-sm-5 nopadding">
													<div class="form-group">
														<input type="text" class="form-control" id="if_cond" name="dimensions_row_if_cond_1" value="" placeholder='Condition'>
													</div>
												</div>
												
												<div class="col-sm-1 nopadding">
													<div class="form-group">
														<div class="input-group input-group-sm">
															<div class="input-group input-group-sm-btn">
																<button id="plus_button" class="btn btn-danger" type="button" onclick="remove_field('if_fields_dimension_rows_names',1,brackets_name='myCanvas2');"> 
																	<span id="minus_button_glyphicon" class="glyphicon glyphicon-minus" aria-hidden="true"></span> 
																</button>
															</div>

														</div>
													</div>
												</div>
											</div>
										</div>
										<div class="col-sm-2 nopadding">
											<div class="form-group">
												<br>
													<div class="input-group input-group-sm">
														<div class="input-group input-group-sm-btn">
															<button class="btn btn-success" type="button" onclick="add_field('if_fields_dimension_rows_names',brackets_name='myCanvas2');"> <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> </button>
														</div>

													</div>
											</div>
										</div>
										<div class="clear"></div>
									</div>
								
									<div class="col-sm-10">
										<div class="well-block">
											<div class="well-title">
												<div class="panel-heading">2<sup>nd</sup> Dimension - Columns
												</div>
												<div class="panel-heading"><b>Categories names</b>
												</div>
												
												
											</div>
										</div>
										
									</div>
									<div class="col-sm-12" id="if_fields_dimension_columns_names">
										<div class="col-sm-1 nopadding">
											<div class="form-group">
											<br>
												<h5>name=</h5>
											</div>
										</div>
										<div class="col-sm-1 nopadding">
											<div class="form-group">
												<canvas id="myCanvas3" width="50" height="70"></canvas>
											</div>
										</div>
										<div class="form-group" id="all_ifs_categories_columns">
											<div class="form-group remove_class_column1" id="remove_all_fields">
												<div class="col-sm-3 nopadding">
													<div class="form-group">
														<input type="text" class="form-control" id="if_res" name="dimensions_column_category_name_1" value="" placeholder="Name">
													</div>
												</div>
												<div class="col-sm-5 nopadding">
													<div class="form-group">
														<input type="text" class="form-control" id="if_cond" name="dimensions_column_if_cond_1" value="" placeholder='Condition'>
													</div>
												</div>
																			
												<div class="col-sm-1 nopadding">
													<div class="form-group">
														<div class="input-group input-group-sm">
															<div class="input-group input-group-sm-btn">
																<button id="plus_button" class="btn btn-danger" type="button" onclick="remove_field('if_fields_dimension_columns_names',1,brackets_name='myCanvas3');"> 
																	<span id="minus_button_glyphicon" class="glyphicon glyphicon-minus" aria-hidden="true"></span> 
																</button>
															</div>

														</div>
													</div>
												</div>
											</div>
										</div>
										<div class="col-sm-2 nopadding">
											<div class="form-group">
												<br>
													<div class="input-group input-group-sm">
														<div class="input-group input-group-sm-btn">
															<button class="btn btn-success" type="button" onclick="add_field('if_fields_dimension_columns_names',brackets_name='myCanvas3');"> <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> </button>
														</div>

													</div>
											</div>
										</div>
										<div class="clear"></div>
									</div>
								</div>
								<div class="panel-footer"><small>Click <span class="glyphicon glyphicon-plus gs"></span> to add another if field</small>, <small>Click <span class="glyphicon glyphicon-minus gs"></span> to remove the field </small></div>

							</div>

							<br>
							
							
                        </div>
						<div class="panel-footer">
							
								<button type="button submit" class="btn btn-primary btn-group-justified">Calculate!</button>
								<button type="button" class="btn btn-danger btn-group-justified" onClick="window.location.reload()" >Clear Calculator</button>
							</div>
                    </div>
                <!-- form end -->
            </div>
			
		</div>
    </div>
</div>





<script src="/static/scripts.js"></script>
<script>curly_brackets_generation(1.9,"myCanvas");</script>
<script>curly_brackets_generation(1.9,"myCanvas2");</script>
<script>curly_brackets_generation(1.9,"myCanvas3");</script>
<script>document.getElementById('file-input').addEventListener('change', load_file, false);</script>
</form>


</html>
